"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUserLocale = void 0;
const piral_core_1 = require("piral-core");
function getUserLocaleUnchecked(defaultLocale, remoteLocale) {
    const storedLocale = piral_core_1.cookie.getItem('_culture') || piral_core_1.storage.getItem('locale');
    if (storedLocale) {
        return storedLocale;
    }
    else if (remoteLocale) {
        return remoteLocale.toLowerCase().substring(0, 2);
    }
    else if (navigator.language) {
        return navigator.language.substring(0, 2);
    }
    return defaultLocale;
}
function getUserLocale(availableLocales, defaultLocale, fallbackLocale) {
    const selected = getUserLocaleUnchecked(defaultLocale, fallbackLocale || '');
    if (availableLocales.indexOf(selected) !== -1) {
        return selected;
    }
    return defaultLocale;
}
exports.getUserLocale = getUserLocale;
//# sourceMappingURL=current.js.map