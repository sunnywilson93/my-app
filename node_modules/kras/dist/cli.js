#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const yargs = require("yargs");
const server_1 = require("./server");
const argv = yargs
    .usage('Usage: $0 [options]')
    .string('c')
    .alias('c', 'config')
    .describe('c', `Sets the configuration file to use, by default ${server_1.krasrc}`)
    .number('p')
    .alias('p', 'port')
    .describe('p', `Sets the port of the server, by default ${server_1.defaultConfig.port}`)
    .string('n')
    .alias('n', 'name')
    .describe('n', `Sets the name of the server, by default ${server_1.defaultConfig.name}`)
    .string('d')
    .alias('d', 'dir')
    .describe('d', `Sets the base directory of the server, by default ${server_1.defaultConfig.directory}`)
    .string('cert')
    .describe('cert', `Sets the certificate of the server, by default ${server_1.defaultConfig.ssl.cert}`)
    .string('key')
    .describe('key', `Sets the key of the server, by default ${server_1.defaultConfig.ssl.key}`)
    .alias('l', 'log-level')
    .describe('l', `Sets the log level of the application, by default ${server_1.defaultConfig.logLevel}`)
    .choices('l', ['info', 'debug', 'error'])
    .boolean('skip-api')
    .describe('skip-api', 'If set avoids creating the management API endpoint')
    .version()
    .help('h')
    .alias('h', 'help')
    .describe('h', 'Shows the argument descriptions')
    .epilog(`Copyright (c) 2018 - 2022 ${server_1.author}`).argv;
server_1.runFromCli({
    port: argv.p,
    name: argv.n,
    logs: argv.l,
    cert: argv.cert,
    key: argv.key,
    dir: argv.d,
    skipApi: argv['skip-api'],
}, argv.c);
