"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SwitchErrorInfo = void 0;
const React = require("react");
const hooks_1 = require("../hooks");
const utils_1 = require("../utils");
function renderComponent(components, props) {
    const name = props.type;
    const Component = components[name];
    if (process.env.NODE_ENV === 'development') {
        React.useEffect(() => console.error('[dev-info] An error occurred in the Piral instance.', props), utils_1.none);
    }
    if (!Component) {
        const Unknown = components.unknown;
        if (Unknown) {
            return React.createElement(Unknown, Object.assign({}, props, { type: "unknown" }));
        }
        return (0, utils_1.defaultRender)(`Error: ${props.type}`);
    }
    return React.createElement(Component, Object.assign({}, props));
}
const SwitchErrorInfo = (props) => {
    const components = (0, hooks_1.useGlobalState)((m) => m.errorComponents);
    return renderComponent(components, props);
};
exports.SwitchErrorInfo = SwitchErrorInfo;
//# sourceMappingURL=SwitchErrorInfo.js.map