"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Dashboard = void 0;
const React = require("react");
const piral_core_1 = require("piral-core");
const components_1 = require("./components");
const Dashboard = (props) => {
    const tiles = (0, piral_core_1.useGlobalState)((s) => s.registry.tiles);
    const { filter = () => true } = props;
    const children = Object.keys(tiles)
        .filter((tile) => filter(tiles[tile]))
        .map((tile) => {
        const { component: Component, preferences } = tiles[tile];
        const { initialColumns = 1, initialRows = 1, resizable = false } = preferences;
        return (React.createElement(components_1.PiralDashboardTile, { key: tile, columns: initialColumns, rows: initialRows, resizable: resizable, meta: preferences },
            React.createElement(Component, { columns: initialColumns, rows: initialRows })));
    });
    return React.createElement(components_1.PiralDashboardContainer, Object.assign({}, props, { children: children }));
};
exports.Dashboard = Dashboard;
exports.Dashboard.displayName = 'Dashboard';
//# sourceMappingURL=Dashboard.js.map