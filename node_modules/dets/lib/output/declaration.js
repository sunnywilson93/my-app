"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stringifyDeclaration = void 0;
const module_1 = require("./module");
const helpers_1 = require("../helpers");
function stringifyDeclaration(context) {
    const modules = Object.keys(context.modules)
        .filter(moduleName => Object.keys(context.modules[moduleName]).length > 0)
        .map(moduleName => module_1.stringifyModule(moduleName, context.modules[moduleName]))
        .join('\n\n');
    const preamble = context.usedImports.map(lib => `import * as ${helpers_1.getLibRefName(lib)} from '${lib}';`).join('\n');
    if (preamble) {
        return `${preamble}\n\n${modules}`;
    }
    return modules;
}
exports.stringifyDeclaration = stringifyDeclaration;
