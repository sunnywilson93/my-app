{"id":"../node_modules/piral-base/esm/legacy.js","dependencies":[{"name":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/legacy.js.map","includedInParent":true,"mtime":1653392427827},{"name":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/src/legacy.ts","includedInParent":true,"mtime":1653392427827},{"name":"/Users/nc23203-wilson/Documents/pocs/my-app/package.json","includedInParent":true,"mtime":1653396690861},{"name":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/package.json","includedInParent":true,"mtime":1653392427827},{"name":"./load","loc":{"line":1,"column":25,"index":25},"parent":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/legacy.js","resolved":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/load.js"},{"name":"./fetch","loc":{"line":2,"column":32,"index":67},"parent":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/legacy.js","resolved":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/fetch.js"},{"name":"./utils","loc":{"line":3,"column":47,"index":125},"parent":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/legacy.js","resolved":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/utils.js"},{"name":"./dependency","loc":{"line":4,"column":34,"index":170},"parent":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/legacy.js","resolved":"/Users/nc23203-wilson/Documents/pocs/my-app/node_modules/piral-base/esm/dependency.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadLegacyPilet = loadLegacyPilet;\n\nvar _load = require(\"./load\");\n\nvar _fetch = require(\"./fetch\");\n\nvar _utils = require(\"./utils\");\n\nvar _dependency = require(\"./dependency\");\n\n/**\n * Loads a legacy (v0) or invalid pilet.\n * @param meta The metadata of the pilet.\n * @returns The evaluated pilet that can now be integrated.\n */\nfunction loadLegacyPilet(meta) {\n  const name = meta.name;\n\n  if ('link' in meta && meta.link) {\n    const link = (0, _utils.setBasePath)(meta, meta.link);\n    return (0, _fetch.fetchDependency)(link).then(content => (0, _load.loadFrom)(meta, () => (0, _dependency.compileDependency)(name, content, link)));\n  } else if ('content' in meta && meta.content) {\n    const content = meta.content;\n    return (0, _load.loadFrom)(meta, () => (0, _dependency.compileDependency)(name, content, undefined));\n  } else {\n    console.warn('Empty pilet found!', name);\n  }\n\n  return Promise.resolve((0, _utils.createEmptyModule)(meta));\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/legacy.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../src/legacy.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":10,"column":0}},{"source":"../src/legacy.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":12,"column":0}},{"source":"../src/legacy.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":14,"column":0}},{"source":"../src/legacy.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":16,"column":0}},{"source":"../src/legacy.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":21,"column":0}},{"source":"../src/legacy.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":21,"column":9}},{"source":"../src/legacy.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":21,"column":24}},{"source":"../src/legacy.ts","name":null,"original":{"line":12,"column":32},"generated":{"line":21,"column":25}},{"source":"../src/legacy.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":21,"column":29}},{"source":"../src/legacy.ts","name":null,"original":{"line":12,"column":51},"generated":{"line":21,"column":31}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":22,"column":2}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":22,"column":8}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":22,"column":12}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":15},"generated":{"line":22,"column":15}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":19},"generated":{"line":22,"column":19}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":22,"column":20}},{"source":"../src/legacy.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":22,"column":24}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":24,"column":2}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":24,"column":6}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":24,"column":16}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":24,"column":20}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":24},"generated":{"line":24,"column":24}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":28},"generated":{"line":24,"column":28}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":29},"generated":{"line":24,"column":29}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":24,"column":33}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":35},"generated":{"line":24,"column":35}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":25,"column":4}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":10},"generated":{"line":25,"column":10}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":25,"column":14}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":25,"column":17}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":25,"column":21}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":25,"column":39}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":25,"column":41}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":25,"column":45}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":35},"generated":{"line":25,"column":47}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":39},"generated":{"line":25,"column":51}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":40},"generated":{"line":25,"column":52}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":25,"column":56}},{"source":"../src/legacy.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":25,"column":57}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":26,"column":4}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":26,"column":11}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":26,"column":15}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":26,"column":37}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":26,"column":39}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":26,"column":43}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":33},"generated":{"line":26,"column":45}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":26,"column":49}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":39},"generated":{"line":26,"column":50}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":38},"generated":{"line":26,"column":57}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":51},"generated":{"line":26,"column":61}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":51},"generated":{"line":26,"column":65}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":51},"generated":{"line":26,"column":79}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":60},"generated":{"line":26,"column":81}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":51},"generated":{"line":26,"column":85}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":66},"generated":{"line":26,"column":87}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":26,"column":93}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":26,"column":97}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":26,"column":126}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":90},"generated":{"line":26,"column":128}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":26,"column":132}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":96},"generated":{"line":26,"column":134}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":26,"column":141}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":105},"generated":{"line":26,"column":143}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":72},"generated":{"line":26,"column":147}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":51},"generated":{"line":26,"column":148}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":26,"column":149}},{"source":"../src/legacy.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":26,"column":150}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":3},"generated":{"line":27,"column":2}},{"source":"../src/legacy.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":27,"column":3}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":27,"column":9}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":13},"generated":{"line":27,"column":13}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":27,"column":26}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":13},"generated":{"line":27,"column":30}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":34},"generated":{"line":27,"column":34}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":38},"generated":{"line":27,"column":38}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":39},"generated":{"line":27,"column":39}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":27,"column":46}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":48},"generated":{"line":27,"column":48}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":28,"column":4}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":28,"column":10}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":17},"generated":{"line":28,"column":17}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":20},"generated":{"line":28,"column":20}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":28,"column":24}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":28,"column":25}},{"source":"../src/legacy.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":28,"column":32}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":29,"column":4}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":29,"column":11}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":29,"column":15}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":29,"column":29}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":29,"column":31}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":29,"column":35}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":29,"column":37}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":29,"column":43}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":29,"column":47}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":29,"column":76}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":50},"generated":{"line":29,"column":78}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":29,"column":82}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":56},"generated":{"line":29,"column":84}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":29,"column":91}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":65},"generated":{"line":29,"column":93}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":29,"column":102}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":29,"column":103}},{"source":"../src/legacy.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":29,"column":104}},{"source":"../src/legacy.ts","name":null,"original":{"line":21,"column":3},"generated":{"line":30,"column":2}},{"source":"../src/legacy.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":30,"column":3}},{"source":"../src/legacy.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":30,"column":9}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":31,"column":4}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":31,"column":11}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":31,"column":12}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":31,"column":16}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":17},"generated":{"line":31,"column":17}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":31,"column":37}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":39},"generated":{"line":31,"column":39}},{"source":"../src/legacy.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":31,"column":43}},{"source":"../src/legacy.ts","name":null,"original":{"line":23,"column":3},"generated":{"line":32,"column":2}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":34,"column":2}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":34,"column":9}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":34,"column":16}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":34,"column":17}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":34,"column":24}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":34,"column":25}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":34,"column":29}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":34,"column":53}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":43},"generated":{"line":34,"column":55}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":34,"column":59}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":34,"column":60}},{"source":"../src/legacy.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":34,"column":61}},{"source":"../src/legacy.ts","name":null,"original":{"line":26,"column":1},"generated":{"line":35,"column":0}}],"sources":{"../src/legacy.ts":"import { loadFrom } from './load';\nimport { fetchDependency } from './fetch';\nimport { createEmptyModule, setBasePath } from './utils';\nimport { compileDependency } from './dependency';\nimport type { PiletMetadata } from './types';\n\n/**\n * Loads a legacy (v0) or invalid pilet.\n * @param meta The metadata of the pilet.\n * @returns The evaluated pilet that can now be integrated.\n */\nexport function loadLegacyPilet(meta: PiletMetadata) {\n  const name = meta.name;\n\n  if ('link' in meta && meta.link) {\n    const link = setBasePath(meta, meta.link);\n    return fetchDependency(link).then((content) => loadFrom(meta, () => compileDependency(name, content, link)));\n  } else if ('content' in meta && meta.content) {\n    const content = meta.content;\n    return loadFrom(meta, () => compileDependency(name, content, undefined));\n  } else {\n    console.warn('Empty pilet found!', name);\n  }\n\n  return Promise.resolve(createEmptyModule(meta));\n}\n"},"lineCount":null}},"error":null,"hash":"c6d3123b64a790aeb44101ba120343c7","cacheData":{"env":{}}}