{"version":3,"file":"main.537f1c3de6ae65eff599.hot-update.js","sources":["webpack:///./src/index.tsx"],"sourcesContent":["import 'core-js/es/reflect';\nimport 'core-js/stable/reflect';\nimport 'core-js/features/reflect';\nimport 'zone.js';\nimport { createPwaApi } from 'piral-pwa';\n\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { createInstance, createStandardApi, Dashboard, Piral } from 'piral';\nimport { createNgApi } from 'piral-ng';\nimport { layout, errors } from './layout';\nasync function registerSW() {\n  if ('serviceWorker' in navigator) {\n    console.log('usssh');\n    console.log(navigator.serviceWorker, ' hello');\n    try {\n      await navigator.serviceWorker.register('./sw.ts');\n    } catch (e) {\n      alert('ServiceWorker registration failed. Sorry about that.');\n    }\n  } else {\n    document.querySelector('.alert').removeAttribute('hidden');\n  }\n}\n\nwindow.addEventListener('load', (e) => {\n  registerSW();\n});\nconst feedUrl =\n  process.env.NODE_ENV === 'production'\n    ? 'https://feed.piral.io/api/v1/pilet/mife-demo'\n    : 'http://localhost:9000/api/v1/pilet';\n\nconst instance = createInstance({\n  state: {\n    components: {\n      ...layout\n    },\n    errorComponents: {\n      ...errors\n    },\n    routes: {\n      '/': Dashboard\n    }\n  },\n\n  plugins: [createNgApi(), ...createStandardApi(), createPwaApi()],\n  requestPilets() {\n    console.log('hey');\n    const result = fetch(feedUrl)\n      .then((res) => {\n        return res.json();\n      })\n      .then((res) => res.items);\n    return result;\n  }\n});\n\nrender(<Piral instance={instance} />, document.querySelector('#app'));\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;AADA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;AACA;;;;;AACA;AACA;;;AAEA;AACA;;;;;;;;AACA;AACA;;;;;;AAEA;AACA;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAGA;AAGA;AACA;AADA;AAPA;AAYA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAtBA;AAyBA;AAAA;AAAA;;;;A","sourceRoot":""}